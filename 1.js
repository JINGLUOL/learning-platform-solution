(()=>{"use strict";var e={961:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(262);const o={post:async function(e,t){return await new Promise((n=>{GM_xmlhttpRequest({method:"POST",url:e,data:t,headers:{"Content-Type":"application/json"},onload:function(e){n(2===parseInt(e.status/100)?e:{error:e.status})},onerror:function(e){n({error:e})}})}))},get:async function(e,t){return await new Promise((n=>{GM_xmlhttpRequest({method:"GET",url:(0,r.getReqUrl)(e,t),headers:{"Content-Type":"application/json"},onload:function(e){n(2===parseInt(e.status/100)?e:{error:e.status})},onerror:function(e){n(e)}})}))}}},424:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});const r={get:async function(e){return await GM_getValue(e)},set:async function(e,t){await GM_setValue(e,t)}}},336:(e,t,n)=>{t.A=function(){var e=new c.default,t="ouchn.cn",n="jxjypt.cn",a="jijiaox.com",u="mxdxedu.com",l=[t,n,a,u].filter((function(e){return-1!==document.URL.indexOf(e)}));if(0!==l.length){var f=l[0];switch(f){case t:new r.default(f,e);break;case n:new i.default(f,e);break;case a:new o.default(f,e);break;case u:new s.default(f,e)}}else console.error("未找到入口")};var r=n(860),o=n(630),i=n(239),s=n(483),c=n(515)},353:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n,r){this.name=e,this.reqUrl=t,this.data=r,this.type=n}},219:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.LFS=e}return e.prototype.simulateClick=function(e,t){void 0===t&&(t=1);var n=e.getBoundingClientRect().right-t,r=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!0,clientX:n}),o=new MouseEvent("mousedown",{bubbles:!0}),i=new MouseEvent("mouseup",{bubbles:!0});e.dispatchEvent(o),e.dispatchEvent(r),e.dispatchEvent(i)},e}();t.default=n},676:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(761),a=n(904),u=n(262),l=n(219),f=n(353),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coursesListUrl="https://lms.ouchn.cn/user/courses#/",t.onlineVideoApi="https://lms.ouchn.cn/statistics/api/online-videos",t.data={globalId:void 0,user:{id:void 0,name:void 0,userNo:void 0,orgId:void 0,orgName:void 0,orgCode:void 0},course:{id:void 0,name:void 0,course_code:void 0},dept:{id:void 0,name:void 0,code:void 0}},t.tasksIdApi=function(e,t){return"https://lms.ouchn.cn/api/course/".concat(e,"/all-activities?module_ids=").concat(JSON.stringify(t),"&activity_types=learning_activities,exams,classrooms,live_records,rollcalls&no-loading-animation=true")},t}return o(t,e),t.prototype.ini=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,o;return s(this,(function(i){switch(i.label){case 0:return this.isHeterologousAccess()?[2]:[4,a.default.get("https://lms.ouchn.cn/user/courses")];case 1:return[4,i.sent().text()];case 2:return e=i.sent(),t=e.slice(e.indexOf('value="')+7),this.data.globalId=t.slice(0,t.indexOf('"')),n=e.slice(e.indexOf("var globalData = ")+17),r=n.slice(0,n.indexOf("<\/script>")),r=(0,u.replaceRestString)(r).replace(/,}/g,"}"),r=(0,u.insertString)(r,"{",'"',1),r=(0,u.insertString)(r,":",'"',0),r=(0,u.insertString)(r,",",'"',1),o=JSON.parse(r),(0,u.copyObjProperties)(this.data.dept,o.dept),(0,u.copyObjProperties)(this.data.user,o.user),console.log(this.data),[2,!0]}}))}))},t.prototype.isHeterologousAccess=function(){return!document.URL.startsWith("https://lms.ouchn.cn")&&((0,u.shareLog)('<a href="'.concat(this.coursesListUrl,'" class="').concat(c.color.green,'">点击以进入课程列表页</a>')),!0)},t.prototype.getCourses=function(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return[4,a.default.get("https://lms.ouchn.cn/api/my-courses?page=1&page_size=100")];case 1:return[4,t.sent().json()];case 2:return e=t.sent().courses,console.log(e),[2,e]}}))}))},t.prototype.getTasks=function(e){return i(this,void 0,void 0,(function(){var t,n,r,o,i,c,l,f,d,p,h,y,v,g,b,m,w,S;return s(this,(function(s){switch(s.label){case 0:return t=[],(0,u.copyObjProperties)(this.data.course,e),n=this.data.course.id,r="https://lms.ouchn.cn/api/courses/".concat(n,"/modules"),[4,a.default.get(r)];case 1:case 3:case 5:return[4,s.sent().json()];case 2:for(o=s.sent(),i=[],c=0,l=o.modules;c<l.length;c++)f=l[c],i.push(f.id);return[4,a.default.get(this.tasksIdApi(this.data.course.id,i))];case 4:return d=s.sent(),p="https://lms.ouchn.cn/api/course/".concat(n,"/activity-reads-for-user"),[4,a.default.get(p)];case 6:for(h=s.sent(),y={},v=0,g=h.activity_reads;v<g.length;v++)b=g[v],y[b.activity_id]=b.completeness;for(m=0,w=d.learning_activities;m<w.length;m++)S=w[m],"full"!==y[S.id]&&t.push.apply(t,this.taskToReqData(S));return console.log(t),[2,t]}}))}))},t.prototype.taskToReqData=function(e){var t=[],n=e.id,r=e.title;if(e.uploads.length)for(var o=0,i=0,s=e.uploads;i<s.length;i++){var c=s[i];if(t.push(new f.default("".concat(r,"-第").concat(++o,"个资料"),"https://lms.ouchn.cn/api/course/activities-read/"+n,"POST",c.id?JSON.stringify({upload_id:c.id}):"")),c.videos.length){var a=c.videos[0].duration;t.push(new f.default(r+"---时长","https://lms.ouchn.cn/statistics/api/online-videos","POST",JSON.stringify(this.getOnlineVideoApiOption(n,a))))}}else t.push(new f.default(r,"https://lms.ouchn.cn/api/course/activities-read/"+n,"POST",""));return t},t.prototype.taskSolution=function(e){return i(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return(0,u.shareLog)("".concat(e.name,'---<span class="').concat(c.color.blue,'">请求中</span>')),"POST"!==e.type?[3,2]:[4,a.default.post(e.reqUrl,e.data)];case 1:t=n.sent(),n.label=2;case 2:return t.ok?[3,5]:((0,u.shareLog)("请求异常：".concat(t.error),c.color.red),t.error?[4,(0,u.setRuleInterval)(c.config.reqEWT,1e3,(function(){return c.config.course_code}),(function(){return!1}),(function(){return!1}))]:[3,4]);case 3:n.sent(),n.label=4;case 4:return[2,!1];case 5:return(0,u.shareLog)("".concat(e.name,'---<span class="').concat(c.color.green,'">请求成功</span>。\n            <br>状态：').concat(t.status)),console.log(t),[2,!0]}}))}))},t.prototype.getOnlineVideoApiOption=function(e,t){return{activity_id:e,is_final:null,is_formative:null,reply_id:null,comment_id:null,forum_type:"",action_type:"play",is_teacher:!1,is_student:!0,meeting_type:"online_video",start_at:0,end_at:t,duration:t,org_code:this.data.user.orgCode,org_id:this.data.user.orgId,org_name:this.data.user.orgName,course_code:this.data.course.course_code,course_id:this.data.course.id,course_name:this.data.course.name,user_id:this.data.user.id,user_name:this.data.user.name,user_no:this.data.user.userNo,dep_id:this.data.dept.id,dep_name:this.data.dept.name,dep_code:this.data.dept.code}},t}(l.default);t.default=d},638:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}},c=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var a=n(761),u=n(262),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.actionTypes={ACTION_INROOM:"ACTION_INROOM",ACTION_PLAY:"ACTION_PLAY",ACTION_PROGRESS:"ACTION_PROGRESS",ACTION_ROOM_PROGRESS:"ACTION_ROOM_PROGRESS",ACTION_CHANGE:"ACTION_CHANGE",ACTION_STOP:"ACTION_STOP"},t.sendBody={token:void 0,action:t.actionTypes.ACTION_INROOM,courseId:void 0,chapterId:"",time:0,type:"pc"},t.sendData={header:{type:"room"},body:JSON.stringify(t.sendBody),timeStamp:(new Date).getTime()},t.loop=0,t}return o(t,e),t.prototype.ini=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){return[2,!0]}))}))},t.prototype.getCourses=function(){throw new Error("Method not implemented.")},t.prototype.getTasks=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,o;return s(this,(function(i){for(e=[],t=document.querySelector(".el-collapse.courselist").querySelectorAll("ul"),n=0,r=t;n<r.length;n++)o=r[n],e.push.apply(e,o.children);return(0,u.shareLog)("获取任务数量 ".concat(e.length),a.color.blue),[2,e]}))}))},t.prototype.taskSolution=function(e){return i(this,void 0,void 0,(function(){var t,n,r,o,i,a,l,f,d,p,h,y,v,g,b,m,w,S,_,x,O,k,C,q,E,T,I,L,A,j,P,B,M;return s(this,(function(s){switch(s.label){case 0:if(t=e.querySelector(".littlebot").children,n=t[1],r="none"!==n.lastElementChild.style.display,o="完成"===(0,u.replaceRestString)(n.innerText),i=t[2],a=(0,u.replaceRestString)(i.innerText.split("：")[1]).split("/"),l="0"!==a[1],f=l&&a[0]===a[1],r&&o||f||!r&&!l)return[2,!0];if(!r)return[3,2];for(d=e.firstElementChild.lastElementChild.innerText,p=JSON.parse(sessionStorage.getItem("chapterList")),h=void 0,y=void 0,v=0,g=p;v<g.length;v++)if(b=g[v],(y=(h=b).children.filter((function(e){return e.name===d}))).length>0){y=y[0];break}return[4,this.reqServer(h,y)];case 1:return s.sent(),m=e.lastElementChild.children[1].children,(w=m[0]).children.length>0&&w.removeChild(w.children[0]),w.classList.add("el-icon-circle-check"),m[1].innerText="完成",[2,!0];case 2:return e.firstElementChild.click(),[4,(0,u.sleep)(1e3)];case 3:return s.sent(),S="ABCDEFGHIJKLMN",_=["正确","错误"],x=document.querySelector(".courseR"),O=c([],x.lastElementChild.children,!0),k=O.pop(),document.querySelector(".homework")?[3,6]:(k.firstElementChild.click(),[4,(0,u.sleep)(1e3)]);case 4:return s.sent(),[4,this.taskSolution(e)];case 5:return[2,s.sent()];case 6:C=0,q=O,s.label=7;case 7:return C<q.length?(E=q[C],T=(0,u.replaceRestString)(E.querySelector(".homework").innerText),I=T.slice(T.indexOf("：")+1),L=(E.querySelector('[role="radiogroup"]')||E.querySelector('[role="group"]')).children,-1===(A=_.indexOf(I))?[3,9]:(L[A].attributes["aria-checked"]||L[A].click(),[4,(0,u.sleep)(1)])):[3,14];case 8:return s.sent(),[3,13];case 9:j=0,P=I,s.label=10;case 10:return j<P.length?(B=P[j],-1===(M=S.indexOf(B))?[3,12]:(L[M].attributes["aria-checked"]||L[M].click(),[4,(0,u.sleep)(1)])):[3,13];case 11:s.sent(),s.label=12;case 12:return j++,[3,10];case 13:return C++,[3,7];case 14:return k.firstElementChild.click(),[2,!0]}}))}))},t.prototype.isTask=function(e){throw new Error("Method not implemented.")},t.prototype.isHeterologousAccess=function(){return!1},t.prototype.reqServer=function(e,t){return i(this,void 0,void 0,(function(){var n,r,o,c,l,f;return s(this,(function(d){switch(d.label){case 0:return console.log(t.id,t.name),n=this,r=0,o=this.actionTypes,c=sessionStorage.getItem("token"),l="wss://socket.jijiaox.com:8100/webSocket?token="+c,this.sendBody.token=c,this.sendBody.courseId=e.courseId,this.sendBody.chapterId=t.id,this.sendBody.time=(new Date).getTime(),this.sendData.body=JSON.stringify(n.sendBody),n.loop++,this.socket?((0,u.shareLog)("消息已发送...",a.color.green),n.sendBody.action=o.ACTION_CHANGE):((0,u.shareLog)("通道连接中...",a.color.blue),this.socket=new WebSocket(l)),(f=this.socket).onopen||(f.onopen=function(){(0,u.shareLog)("Connection open..."),n.sendBody.action=o.ACTION_INROOM,n.sendBody.time=(new Date).getTime(),n.sendData.body=JSON.stringify(n.sendBody),f.send(JSON.stringify(n.sendData)),n.sendBody.action=o.ACTION_PLAY}),f.onmessage||(f.onmessage=function(e){return i(this,void 0,void 0,(function(){var t;return s(this,(function(i){switch(i.label){case 0:return[4,(0,u.sleep)(100)];case 1:switch(i.sent(),t=JSON.parse(e.data),console.log("Received message:",t.data),n.sendBody.action){case o.ACTION_CHANGE:return[3,2];case o.ACTION_PLAY:return[3,3];case o.ACTION_ROOM_PROGRESS:return[3,4]}return[3,6];case 2:return n.sendBody.time=(new Date).getTime(),n.sendData.body=JSON.stringify(n.sendBody),f.send(JSON.stringify(n.sendData)),n.sendBody.action=o.ACTION_PLAY,[2];case 3:return n.sendBody.time=r,n.sendData.body=JSON.stringify(n.sendBody),f.send(JSON.stringify(n.sendData)),n.sendBody.action=o.ACTION_PROGRESS,[2];case 4:return[4,(0,u.sleep)(7e3)];case 5:return i.sent(),n.sendBody.time=(new Date).getTime(),n.sendData.body=JSON.stringify(n.sendBody),f.send(JSON.stringify(n.sendData)),[2];case 6:return t.data&&void 0!==t.data.type&&t.data.type!==o.ACTION_STOP&&void 0!==t.data.progress&&t.data.progress>=100||!a.config.course_code?(n.sendBody.time=r+2e3,n.sendBody.action=o.ACTION_STOP,n.sendData.body=JSON.stringify(n.sendBody),f.send(JSON.stringify(n.sendData)),r=0,n.loop=0,n.sendBody.action=o.ACTION_ROOM_PROGRESS,[2]):(n.loop++,n.loop%10==0?(n.sendBody.action=o.ACTION_ROOM_PROGRESS,n.sendBody.time=(new Date).getTime(),n.sendData.body=JSON.stringify(n.sendBody),f.send(JSON.stringify(n.sendData)),n.sendBody.action=o.ACTION_PROGRESS,[2]):(r+=8e3,n.sendBody.time=r,n.sendData.body=JSON.stringify(n.sendBody),f.send(JSON.stringify(n.sendData)),[2]))}}))}))}),f.onerror||(f.onerror=function(e){console.error("WebSocket Error:",e)}),f.onclose||(f.onclose=function(e){(0,u.shareLog)("Connection closed")}),this.waiting=new Promise((function(e){var t=setInterval((function(){0===n.loop&&(clearInterval(t),e(!0))}),100)})),[4,this.waiting];case 1:return d.sent(),[2]}}))}))},t}(n(219).default);t.default=l},463:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(904),a=n(262),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.ini=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){return[2,!0]}))}))},t.prototype.getCourses=function(){throw new Error("Method not implemented.")},t.prototype.getTasks=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,o;return s(this,(function(i){for(e=[],t=document.querySelectorAll('[class="course-list-txt"]'),n=0,r=t;n<r.length;n++)o=r[n],e.push.apply(e,o.querySelectorAll("dd"));return[2,e.filter((function(e){return!e.querySelector(".z-icon-red")}))]}))}))},t.prototype.taskSolution=function(e){return i(this,void 0,void 0,(function(){var t,n,r,o,i,u;return s(this,(function(s){switch(s.label){case 0:return e.click(),[4,(0,a.sleep)(1e3)];case 1:return s.sent(),t=document.querySelector("#question-area"),n=e.attributes["data-jie-id"].value,r=t.firstElementChild.attributes["data-sid"],o=t.firstElementChild.attributes["data-qid"],i=t.firstElementChild.attributes["data-pid"],[4,c.default.post("https://kc.jxjypt.cn/classroom/question/submit",JSON.stringify({sid:r,pid:i,jid:n,qid:o,answer:"A"}))];case 2:return u=s.sent(),console.log(u),[2,!0]}}))}))},t.prototype.isTask=function(e){throw new Error("Method not implemented.")},t.prototype.isHeterologousAccess=function(){throw new Error("Method not implemented.")},t}(n(219).default);t.default=u},19:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(761),a=n(262),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.ini=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){return[2,!0]}))}))},t.prototype.getCourses=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,o,i;return s(this,(function(s){if(!c.config.course_code)return[2];for(e=[],t=document.querySelector(".right-width").children,n=Array.of.apply(Array,Array.of.apply(Array,t).filter((function(e){return"none"!==e.display}))[0].children).filter((function(e){return e.classList.length})),r=0,o=n;r<o.length;r++)i=o[r],e.push.apply(e,i.querySelectorAll(".kt_font_initial"));return[2,e]}))}))},t.prototype.getTasks=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return c.config.course_code?(e.click(),[4,(0,a.sleep)(1e3)]):[2];case 1:return t.sent(),[2,document.querySelectorAll('button[class="el-button el-button--default"]')]}}))}))},t.prototype.taskSolution=function(e){return i(this,void 0,void 0,(function(){function t(){return parseInt(e.innerText.match(/\d+/g)[1])>80}var n,r,o,i;return s(this,(function(s){switch(s.label){case 0:return t()?[2,!0]:(e.click(),[4,(0,a.sleep)(1e3)]);case 1:return s.sent(),document.querySelector("video").play(),[4,(0,a.sleep)(1e3)];case 2:return s.sent(),n=document.querySelector(".duration"),r=n.innerText.split(":"),o=parseInt(r[0]),i=2===r.length&&o<7?0===o?10:5:1,this.simulateClick(document.querySelector(".prism-progress-marker"),i),[4,(0,a.sleep)(1e3)];case 3:return s.sent(),[4,(0,a.setRuleInterval)(c.config.reqEWT,1,(function(){return c.config.course_code}),(function(){}),(function(){return!!t()}))];case 4:return s.sent(),[2,t()]}}))}))},t.prototype.isHeterologousAccess=function(){return!1},t}(n(219).default);t.default=u},569:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getQuestions=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,i.default.post("".concat(s.config.getUrl(),"/question/searchQuestions"),JSON.stringify(e))];case 1:return[2,t.sent()]}}))}))},t.getSource=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,i.default.post("".concat(s.config.getUrl(),"/question/sourceId"),JSON.stringify({source:e}))];case 1:return[2,t.sent()]}}))}))},t.sendQuestions=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,i.default.post("".concat(s.config.getUrl(),"/question/insert"),JSON.stringify(e))];case 1:return[2,t.sent()]}}))}))};var i=n(961),s=n(761)},395:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(262),s=n(761),c=n(755),a=function(){function e(e,t){this.exam_code=0,this.courseData={taskCount:0,taskFull:0},this.mod=e,this.view=t,this.init()}return e.prototype.init=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.initData()];case 1:return e.sent(),(0,c.sourceIni)(this),[4,this.view.ini()];case 2:return e.sent(),this.course=this.getCourseSolution(),[4,this.course.ini()];case 3:return e.sent()||(0,i.shareLog)("课程处理方案初始化失败。",s.color.red),(0,c.mountData)(this),(0,c.mountCourseSolution)(this),(0,c.mountExamSolution)(this),(0,c.mountDataSolution)(this),(0,i.shareLog)("已注册所有功能",s.color.purple),[2]}}))}))},e.prototype.shareRunTime=function(e,t){var n=Math.floor(e/36e5),r=Math.floor(e%36e5/6e4),o=Math.floor(e%6e4/1e3);(0,i.shareLog)("".concat(t," <br>\n            总时长为 ").concat(n,":").concat(r,":").concat(o,"，<br>\n            精确值：").concat(e,"ms。"),s.color.green)},e.prototype.initData=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,(0,i.initObj)(s.config,s.storageID)];case 1:return e.sent(),s.config.R=!1,s.config.course_code=0,[2]}}))}))},e.prototype.getCourseSpeed=function(){return s.config.courseSpeedBean+Math.floor(Math.random()*s.config.courseSpeedPlus)},e.prototype.courseWait=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return(e=this.getCourseSpeed())?[4,(0,i.sleep)(e)]:[2];case 1:return t.sent(),[2]}}))}))},e}();t.default=a},761:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.color=t.storageID=void 0,t.storageID="learning-platform-solution-main",t.color={red:"red",blue:"blue",green:"green",orange:"orange",purple:"purple",yellow:"yellow"},t.config={course_code:0,account:void 0,courseListID:0,courseSpeedBean:1e3,courseSpeedPlus:0,reqEWT:20,examSpeed:300,url:"121.43.32.232:55934",getUrl:function(){return"http://".concat(t.config.url)},keysFnActivity:!0,R:!1}},755:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.mountCourseSolution=function(e){var t=this;(0,i.mountButton)(e.view.courseStartBtn,3,(function(){return c.config.course_code}),(function(e){return c.config.course_code=e}),(function(){return r(t,void 0,void 0,(function(){var t,n,r,s;return o(this,(function(o){switch(o.label){case 0:return e.course?e.course.isHeterologousAccess()||0!==c.config.course_code&&1!==c.config.course_code?[2]:(t=new Date,(0,i.shareLog)("加载任务点中...",c.color.blue),[4,e.courseSolution()]):((0,i.shareLog)('<br>不存在此功能的实例。<br>\n                    <span class="'.concat(c.color.yellow,'">可能存在未登录情况。</span>\n                    '),c.color.red),[2]);case 1:return o.sent()?(0,i.shareLog)("刷课进程已结束。",c.color.green):(0,i.shareLog)("刷课进程异常退出。",c.color.yellow),n=new Date,r=n-t,s=0===e.courseData.taskCount?0:r/6e4/e.courseData.taskCount,e.shareRunTime(r,"本次共处理：".concat(e.courseData.taskCount,"个，<br>\n                共扫描：").concat(e.courseData.taskFull,"个，<br>\n                平均：").concat(s.toFixed(2),"m/个。")),[2]}}))}))}),(function(){return r(t,void 0,void 0,(function(){return o(this,(function(e){return(0,i.shareLog)("已命令进程强制结束，正在等待刷课进程同步。",c.color.purple),[2]}))}))}),(function(t){return e.view.changeBtnMessage(e.view.courseStartBtn,t?"关":"开")}))},t.mountExamSolution=function(e){var t=this;(0,i.mountButton)(e.view.examStartBtn,3,(function(){return e.exam_code}),(function(t){return e.exam_code=t}),(function(){return r(t,void 0,void 0,(function(){var t,n,r,s;return o(this,(function(o){switch(o.label){case 0:if(!e.source)return(0,i.shareLog)("此网站来源未初始化。",c.color.red),[2];t=e.view.supportViewArray.keys(),r=0,o.label=1;case 1:return(n=t.next().value)?String(n).startsWith("exam-view")?(r++,s=e.view.supportViewArray.get(n),[4,e.examSolution(s.contentWindow.document)]):[3,1]:[3,3];case 2:return o.sent()?(0,i.shareLog)("第 ".concat(r," 个页面答题已结束。"),c.color.green):(0,i.shareLog)("第 ".concat(r," 个页面答题进程异常退出。"),c.color.yellow),[3,1];case 3:return"none"===document.body.style.display?[3,5]:[4,e.examSolution(document)];case 4:o.sent()?(0,i.shareLog)("答题已结束。",c.color.green):(0,i.shareLog)("答题进程异常退出。",c.color.yellow),o.label=5;case 5:return[2]}}))}))}),(function(){return r(t,void 0,void 0,(function(){return o(this,(function(e){return(0,i.shareLog)("已命令进程强制结束，正在等待答题进程同步。",c.color.purple),[2]}))}))}),(function(t){return e.view.changeBtnMessage(e.view.examStartBtn,t?"关":"开")}))},t.mountDataSolution=function(e){var t=this,n=!1;e.view.dataStartBtn.addEventListener("click",(function(){return r(t,void 0,void 0,(function(){var t,r,s,a,u;return o(this,(function(o){switch(o.label){case 0:if(n)return[2];n=!0,e.view.changeBtnMessage(e.view.dataStartBtn,"关"),t=e.view.supportViewArray.keys(),s=0,o.label=1;case 1:return(r=t.next().value)?String(r).startsWith("exam-view")?(s++,a=e.view.supportViewArray.get(r),[4,e.questionsDataSolution(a.contentWindow.document)]):[3,1]:[3,3];case 2:return(u=o.sent())?(0,i.shareLog)("第 ".concat(s," 个页面检索到 ").concat(u.length," 道题目存在答案。"),c.color.green):(0,i.shareLog)("第 ".concat(s," 个页面未检测到任何题目存在答案。"),c.color.purple),[3,1];case 3:return"none"===document.body.style.display?[3,5]:[4,e.questionsDataSolution(document)];case 4:(u=o.sent())?(0,i.shareLog)("检索到 ".concat(u.length," 道题目存在答案。"),c.color.green):(0,i.shareLog)("未检测到任何题目存在答案。",c.color.blue),o.label=5;case 5:return n=!1,e.view.changeBtnMessage(e.view.dataStartBtn,"开"),[2]}}))}))}))},t.initCourseMenu=function(e,t){return r(this,void 0,void 0,(function(){var n,r,s,a,u;return o(this,(function(o){switch(o.label){case 0:return(n=e.view.courseList).classList.toggle("global-hidden",!0),(r=document.createElement("li")).style.background="#000000",r.style.color="#ffffff",r.style.display="flex",r.style.justifyContent="right",(s=document.createElement("button")).innerText="全选",a=!1,s.addEventListener("click",(function(){a=!a;for(var e=0,r=n.children;e<r.length;e++){var o=r[e];o.classList.toggle("global-selected",a),o.classList.toggle("global-select",!a)}for(var i=0,s=t;i<s.length;i++)s[i].selected=a})),(u=document.createElement("button")).innerText="确定",r.appendChild(s),r.appendChild(u),t.forEach((function(e){var t=document.createElement("li");t.innerText=e.name,e.selected=!1,t.addEventListener("click",(function(){e.selected=!e.selected,t.classList.toggle("global-selected",e.selected),t.classList.toggle("global-select",!e.selected)})),t.classList.toggle("global-select"),n.appendChild(t)})),n.appendChild(r),n.classList.toggle("global-hidden",!1),n.classList.toggle("global-share",!0),[4,new Promise((function(e){var t=setInterval((function(){c.config.course_code||(clearInterval(t),(0,i.clearAllChildNodes)(n),e(!0))}),1e3);u.addEventListener("click",(function(){clearInterval(t),(0,i.clearAllChildNodes)(n),e(!0)}))}))];case 1:return o.sent(),[2]}}))}))},t.sourceIni=function(e){return r(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,(0,s.getSource)(e.mod)];case 1:return(t=n.sent()).error?(0,i.shareLog)("服务器响应失败！",c.color.yellow):(e.source=JSON.parse(t.responseText).data,(0,i.shareLog)("服务器响应成功：".concat(e.source,"。"),c.color.purple)),[2]}}))}))},t.mountData=function(e){function t(e){return!!(/^-?\d+$/.test(String(e))&&parseInt(e)>=0)||((0,i.shareLog)("该数为自然数。",c.color.red),!1)}(0,i.modelData)(e.view.courseSpeedBean.querySelector("input"),(function(e){return t(e)}),(function(e){return c.config.courseSpeedBean=parseInt(e)}),(function(){return c.config.courseSpeedBean})),(0,i.modelData)(e.view.courseSpeedPlus.querySelector("input"),(function(e){return t(e)}),(function(e){return c.config.courseSpeedPlus=parseInt(e)}),(function(){return c.config.courseSpeedPlus})),(0,i.modelData)(e.view.examSpeed.querySelector("input"),(function(e){return t(e)}),(function(e){return c.config.examSpeed=parseInt(e)}),(function(){return c.config.examSpeed})),(0,i.modelData)(e.view.reqEWT.querySelector("input"),(function(e){return t(e)}),(function(e){return c.config.reqEWT=parseInt(e)}),(function(){return c.config.reqEWT})),(0,i.modelData)(e.view.questionUrl.querySelector("input"),(function(){return!0}),(function(e){return c.config.url=e}),(function(){return c.config.url}))};var i=n(262),s=n(569),c=n(761)},860:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(459),a=n(569),u=n(395),l=n(761),f=n(676),d=n(755),p=n(262),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getCourseSolution=function(){return new f.default(this)},t.prototype.init=function(){return i(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return(t=document.querySelector("input#loginName"))&&(t.oninput=function(){return l.config.account=t.value}),l.config.courseSpeedBean=5e3,l.config.courseSpeedPlus=2e3,l.config.reqEWT=20,[4,e.prototype.init.call(this)];case 1:return n.sent(),[2]}}))}))},t.prototype.courseSolution=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,o,i;return s(this,(function(s){switch(s.label){case 0:return[4,this.course.getCourses()];case 1:return(e=s.sent())?((0,p.shareLog)("共获取".concat(e.length,"个课程入口。"),l.color.orange),(0,p.shareLog)("选择左侧课程并提交以继续。",l.color.green),[4,(0,d.initCourseMenu)(this,e)]):[2];case 2:if(s.sent(),0===(t=e.filter((function(e){return e.selected}))).length)return[2,!0];(0,p.shareLog)("加载课程页面中...",l.color.blue),n=0,s.label=3;case 3:return n<t.length?(r=t[n]).selected?l.config.course_code?[4,this.course.getTasks(r)]:[2]:(n++,[3,3]):[3,9];case 4:if(!(o=s.sent()))return(0,p.shareLog)("任务点加载失败，重新加载中...",l.color.red),[3,3];(0,p.shareLog)("当前为第 ".concat(n+1," 个课程：").concat(r.name,"\n                ，共获取 ").concat(o.length," 个任务点"),l.color.orange),this.courseData.taskFull+=o.length,i=0,s.label=5;case 5:return i<o.length?l.config.course_code?((0,p.shareLog)("处理任务点至 ".concat(i+1,"/").concat(o.length,"。")),[4,this.course.taskSolution(o[i])]):[2]:[3,8];case 6:return s.sent()?[4,this.courseWait()]:((0,p.shareLog)("处理失败，等待重新处理。",l.color.red),[3,5]);case 7:return s.sent(),this.courseData.taskCount++,i++,[3,5];case 8:return n++,[3,3];case 9:return[2,!0]}}))}))},t.prototype.examSolution=function(e){return i(this,void 0,void 0,(function(){var t,n,r,o,i,u,f,d,h,y,v,g,b,m,w,S,_,x,O;return s(this,(function(k){switch(k.label){case 0:if(!(t=e.querySelector('div[class="exam-subjects"]')))return[2];for(n=t.querySelector("ol").children,r=[],o=[],i=0,u=n;i<u.length;i++)-1===(f=u[i]).getAttribute("class").indexOf("text")&&(d=new c.default(f,this.source),o.push(d),d.hasBranch()?r.push.apply(r,d.getProperties()):r.push(d.getProperties()));return 0===r.length?[2]:[4,(0,a.getQuestions)(r)];case 1:if(!(h=k.sent()))return(0,p.shareLog)("服务器响应失败。",l.color.red),[2];if((y=JSON.parse(h.responseText).data).length!==r.length)return(0,p.shareLog)("服务器响应数据异常。"),[2];(0,p.shareLog)("共计获取 ".concat(y.filter((function(e){return e.length>0})).length,"/").concat(r.length," 道题目答案。"),l.color.orange),console.log("questions data: ",r),console.log("answers: ",y),v=0,g=-1,b=!1,m=function(){var e,t,n,r,i,c,a,u,f,d,h,m,S,_;return s(this,(function(s){switch(s.label){case 0:if(!w.exam_code)return[2,{value:!1}];if(b&&(v++,g=-1,b=!1),e=o[v],t="第 ".concat(v+1," 道题"),e.hasBranch()?(g++,t+="第 ".concat(g+1," 小题"),g+1>=e.options.length&&(b=!0)):v++,0!==x.length)return[3,8];if((0,p.shareLog)("".concat(t,"没有答案。"),l.color.yellow,e.root),!e.hasOption())return[2,"continue"];if(e.hasBranch())return[2,"continue"];if(!e.isMultipleChoiceQuestions())return[3,5];r=0,s.label=1;case 1:return r<e.options.length?Math.random()>.45?(e.selectOption(r),[4,(0,p.sleep)(l.config.examSpeed)]):[3,3]:[3,4];case 2:s.sent(),s.label=3;case 3:return r++,[3,1];case 4:return[3,7];case 5:return e.selectOption(Math.floor(Math.random()*e.options.length)),[4,(0,p.sleep)(l.config.examSpeed)];case 6:s.sent(),s.label=7;case 7:return[2,"continue"];case 8:if(n=[],-1===g)n.push.apply(n,x);else for(r=v;r<v+e.options.length;r++)n.push.apply(n,y[r]);if(e.mountView(n),i=e.title,e.hasBranch()&&(i+="__".concat(g+1,"__")),0===(c=x.filter((function(e){return e.title===i}))).length)return(0,p.shareLog)("".concat(t,"存在异议，请手动答题，点击题目以展示获取的答案。"),l.color.yellow,e.root),[2,"continue"];if(a=JSON.parse(c[0].answer),!(e.options.length>0))return[3,13];u=0,f=0,d=a,s.label=9;case 9:return f<d.length?(h=d[f],m=-1===g?e.options:e.options[g],(S=m.indexOf(h))>=0?(e.selectOption(S,g>=0?g:void 0),u++,a.length>1?[4,(0,p.sleep)(1)]:[3,11]):[3,11]):[3,12];case 10:s.sent(),s.label=11;case 11:return f++,[3,9];case 12:return u||((0,p.shareLog)("".concat(t,"未匹配到选项，请手动答题，点击题目以展示获取的答案。"),l.color.yellow,e.root),console.log("index: ".concat(v)),console.log("iIndex: ".concat(g)),console.log("options: ",e.options),console.log("answer: ",c)),[3,14];case 13:(_=e.root.querySelector("div.simditor-body.needsclick"))&&(_.innerHTML="<p>".concat(a,"</p>")),(0,p.simulateInputEvent)(_),s.label=14;case 14:return[4,(0,p.sleep)(l.config.examSpeed)];case 15:return s.sent(),[2]}}))},w=this,S=0,_=y,k.label=2;case 2:return S<_.length?(x=_[S],[5,m()]):[3,5];case 3:if("object"==typeof(O=k.sent()))return[2,O.value];k.label=4;case 4:return S++,[3,2];case 5:return[2,!0]}}))}))},t.prototype.questionsDataSolution=function(e){return i(this,void 0,void 0,(function(){var t,n,r,o,i,u,f,d;return s(this,(function(s){switch(s.label){case 0:if(!this.source)return[2];if(!(t=e.querySelector('div[class="exam-subjects"]')))return[2];for(n=t.querySelector("ol").children,r=[],o=0,i=n;o<i.length;o++)-1===(u=i[o]).getAttribute("class").indexOf("text")&&(f=new c.default(u,this.source)).order&&(f.hasBranch()?r.push.apply(r,f.getProperties()):r.push(f.getProperties()));return 0===r.length?[2]:[4,(0,a.sendQuestions)(r)];case 1:return(d=s.sent())?(0,p.shareLog)("此次添加题目状态：".concat(JSON.parse(d.responseText).data,"。")):(0,p.shareLog)("服务器响应失败。",l.color.red),console.log("发送数据：",r),[2,r]}}))}))},t.prototype.getExamLinks=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){return[2]}))}))},t}(u.default);t.default=h},630:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(638),a=n(262),u=n(395),l=n(761),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getCourseSolution=function(){return new c.default(this)},t.prototype.courseSolution=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,o;return s(this,(function(i){switch(i.label){case 0:return[4,this.course.getTasks(void 0)];case 1:e=i.sent(),t=1,n=0,r=e,i.label=2;case 2:return n<r.length?(o=r[n],l.config.course_code?((0,a.shareLog)("处理至第 ".concat(t++," / ").concat(e.length," 个"),void 0,o),[4,this.course.taskSolution(o)]):[2,!1]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,!0]}}))}))},t.prototype.examSolution=function(e){throw new Error("Method not implemented.")},t.prototype.questionsDataSolution=function(e){throw new Error("Method not implemented.")},t.prototype.getExamLinks=function(e){throw new Error("Method not implemented.")},t}(u.default);t.default=f},239:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(463),a=n(492),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getCourseSolution=function(){return new c.default(this)},t.prototype.courseSolution=function(){return i(this,void 0,void 0,(function(){var e,t,n,r;return s(this,(function(o){switch(o.label){case 0:return[4,this.course.getTasks(void 0)];case 1:for(e=o.sent(),t=0,n=e;t<n.length;t++)r=n[t],this.course.taskSolution(r);return[2]}}))}))},t.prototype.examSolution=function(e){return i(this,void 0,void 0,(function(){var e,t,n,r,o,i;return s(this,(function(c){switch(c.label){case 0:e=document.querySelectorAll("#questionModule > ul > li"),t=function(e){var t,r;return s(this,(function(o){switch(o.label){case 0:return[4,new a.default(e,n.source).getAnswer()];case 1:return t=o.sent(),(r=e.querySelector("dl.sub-answer"))?t.forEach((function(e){r.querySelector('dd[data-value="'.concat(e,'"]')).click()})):e.querySelector(".mater-respond textarea").value=t,[2]}}))},n=this,r=0,o=e,c.label=1;case 1:return r<o.length?(i=o[r],[5,t(i)]):[3,4];case 2:c.sent(),c.label=3;case 3:return r++,[3,1];case 4:return[2,!0]}}))}))},t.prototype.questionsDataSolution=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(e){return[2]}))}))},t.prototype.getExamLinks=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(e){return[2,[]]}))}))},t}(n(395).default);t.default=u},483:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(19),a=n(262),u=n(395),l=n(761),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getCourseSolution=function(){return new c.default(this)},t.prototype.courseSolution=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,o,i;return s(this,(function(s){switch(s.label){case 0:return document.querySelectorAll("a.big_title")[6].click(),[4,(0,a.sleep)(1e3)];case 1:return s.sent(),document.querySelector(".my-title").click(),[4,(0,a.sleep)(1e3)];case 2:return s.sent(),document.querySelector(".el-card__body").children[0].querySelector("a").click(),[4,(0,a.sleep)(1e3)];case 3:return s.sent(),[4,this.course.getCourses()];case 4:if(!(e=s.sent()))return[2];t=0,n=e,s.label=5;case 5:return t<n.length?(r=n[t],l.config.course_code?[4,this.course.getTasks(r)]:[2]):[3,11];case 6:return(o=s.sent())?[4,(0,a.sleep)(1e3)]:[2];case 7:s.sent(),i=0,s.label=8;case 8:return i<o.length?l.config.course_code?[4,this.course.taskSolution(o[i])]:[2]:[3,10];case 9:return s.sent()?(0,a.shareLog)("第 ".concat(i+1," 个任务点处理成功。")):(0,a.shareLog)("第 ".concat(i+1," 个任务点处理失败。"),l.color.red),i++,[3,8];case 10:return t++,[3,5];case 11:return[2,!0]}}))}))},t.prototype.examSolution=function(e){return i(this,void 0,void 0,(function(){var e,t,n,r,o,i,c,u,f,d,p,h,y,v,g;return s(this,(function(s){switch(s.label){case 0:e=document.querySelector(".right-width").children,t=Array.of.apply(Array,e).filter((function(e){return"none"!==e.style.display}))[0],n=t.querySelectorAll('[class="el-col el-col-3"]'),r="ABCDEFGHIJK",o=0,i=n,s.label=1;case 1:return o<i.length?(i[o].querySelector("button").click(),[4,(0,a.sleep)(l.config.examSpeed)]):[3,7];case 2:s.sent(),(c=Array.of.apply(Array,t.querySelector(".el-form").children).filter((function(e){return 0===e.classList.length&&"none"!==e.firstElementChild.style.display}))[0]).querySelector('[style="display: inline;"]'),u=c.querySelector(".el-radio-group")||c.querySelector(".el-checkbox-group"),f=u.children,d=(0,a.replaceRestString)(c.querySelectorAll('[style="display: inline;"]')[0].innerText),console.log("question",c),console.log("options",f),console.log("answers",d),p=0,h=d,s.label=3;case 3:return p<h.length?(y=h[p],-1===(v=r.indexOf(y))||(g=f[v]).classList.contains("is-checked")?[3,5]:(g.click(),[4,(0,a.sleep)(1)])):[3,6];case 4:s.sent(),s.label=5;case 5:return p++,[3,3];case 6:return o++,[3,1];case 7:return[2,!0]}}))}))},t.prototype.questionsDataSolution=function(e){return i(this,void 0,void 0,(function(){return s(this,(function(e){return[2]}))}))},t.prototype.getExamLinks=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){return[2]}))}))},t}(u.default);t.default=f},502:function(e,t,n){var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var o=n(686),i=function(){function e(e,t){this.optionTitle="ABCDEFGHIJKLMNOPQRSTUVWXYZ",this.optionsEle=[],this.root=e,this.source=t,this.ini()}return e.prototype.ini=function(){this.hasOption()?(this.options=this.getOptions(!1),this.type="选择题"):(this.type="填空题",this.options=[]),this.order=this.getQuestionScore()===this.getUserScore()||this.requireAnswer()||this.getOrder(),this.title=this.getTitle(),this.answer=this.getAnswer()},e.prototype.getProperties=function(){var e;if(this.hasBranch()){e=[];for(var t=0;t<this.options.length;t++)e.push(this.parseSendData(t))}else e=this.parseSendData();return e},e.prototype.parseSendData=function(e){return void 0===e&&(e=void 0),void 0!==e?{title:"".concat(this.title,"__").concat(e+1,"__"),type:this.type,options:JSON.stringify(r([],this.options[e],!0).sort()),answer:JSON.stringify(r([],this.answer[e],!0).sort()),source:this.source}:{title:this.title,type:this.type,options:JSON.stringify(r([],this.options,!0).sort()),answer:JSON.stringify(r([],this.answer,!0).sort()),source:this.source}},e.prototype.mountView=function(e){var t="question-answer-view",n=this.root.querySelector(".".concat(t));if(n)this.root.removeChild(n);else{var r=document.createElement("div");r.classList.add(t);for(var i=0,s=e;i<s.length;i++){var c=s[i];r.appendChild((0,o.default)(c))}r.hidden=!0,r.style.background="black",r.style.color="white",r.style.overflowY="auto",r.style.height="300px",this.root.appendChild(r),this.root.querySelector(".subject-head").addEventListener("click",(function(){r.hidden=!r.hidden}))}},e}();t.default=i},686:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t="\n        <p>".concat(e.title,"</p>\n    "),n=0,r=JSON.parse(e.answer);n<r.length;n++){var o=r[n];String(o).indexOf("base64")>=0&&(o='<img src="'.concat(o,'">')),t+="<div>".concat(o,"</div>")}t+="<hr>";var i=document.createElement("div");return i.innerHTML=t,i}},459:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0});var s=n(262),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getQuestionScore=function(){var e=String(this.root.querySelector('div[class="summary-sub-title"]').textContent);return e=e.slice(e.indexOf("(")+1,e.indexOf("分")).trim(),parseFloat(e)},t.prototype.getUserScore=function(){var e=String(this.root.querySelector('div[class="summary-sub-title"]').textContent);return e=e.slice(e.indexOf(")")+1,e.lastIndexOf("分")).trim(),parseFloat(e)},t.prototype.getTitle=function(){var e=this.root.querySelector('div[class="summary-title"]'),t=i([],e.querySelectorAll("button"),!0);t.push.apply(t,e.querySelectorAll(".__blank__"));for(var n=0,r=t;n<r.length;n++)r[n].style.display="none";var o=String(e.innerText),c=e.querySelector('[class="answer-error ng-scope"]');null!==c&&(o=o.split(String(c.innerText)).join("")),o=o.slice(o.indexOf(".")+1).trim();for(var a=0,u=e.querySelectorAll("img");a<u.length;a++)o+=u[a].attributes.src.textContent;for(var l=0,f=t;l<f.length;l++)f[l].style.display="";return(0,s.replaceRestString)((0,s.replaceSpecialString)(o))},t.prototype.getOptions=function(e){void 0===e&&(e=!1);var t,n=this.root.querySelector("div.subject-body");if(this.hasBranch()){for(var r=0,o=this.root.querySelectorAll("ul.ui-multiselect-checkboxes");r<o.length;r++){var s=o[r];(u=i([],s.children,!0)).shift(),this.optionsEle.push(u)}if(n)for(var c=0,a=n.querySelector("ol").children;c<a.length;c++){var u=a[c];this.optionsEle.push(u.querySelector("ol").children)}t=[];for(var l=0,f=this.optionsEle;l<f.length;l++){var d=f[l];t.push(this.getOptionsByElement(d,e))}}else this.optionsEle=n.querySelector("ol").children,t=this.getOptionsByElement(this.optionsEle,e);return t},t.prototype.getAnswer=function(){var e=this.requireAnswer();e&&(e=(e=String(this.requireAnswer().innerText)).slice(e.indexOf(":")+1).trim());var t=[];if(this.options.length>0){if(e){for(var n=[],r=0,o=String(e).match(/[A-Z]+/g).join("");r<o.length;r++){var i=o[r];n.push(this.options[this.optionTitle.indexOf(i)])}e=n}t=this.getOptions(!0)}else{var c=this.root.querySelector("div.answer-content");c.querySelector("img")?t.push(c.querySelector("span").innerHTML):t.push((0,s.replaceSpecialString)((0,s.replaceToHTML)(c.innerText)))}return e||t},t.prototype.getOptionsByElement=function(e,t){for(var n=[],r=function(){if(t&&!o.isChecked(a))return"continue";var e=a.querySelectorAll("img"),r="";0!==e.length&&e.forEach((function(e){r+=e.attributes.src.textContent}));var i=(0,s.replaceRestString)((0,s.replaceSpecialString)(String(a.innerText)));a.querySelector(".option-index.ng-binding")&&(i=i.slice(i.indexOf(".")+1)),n.push(r+i)},o=this,i=0,c=e;i<c.length;i++){var a=c[i];r()}return n},t.prototype.selectOption=function(e,t){if(void 0===t&&(t=void 0),!this.hasBranch()||void 0!==t){var n=this.hasBranch()?this.optionsEle[t][e]:this.optionsEle[e];return n.querySelector('.ng-not-empty[type="checkbox"]')||n.querySelector(".answered-option")||n.querySelector("label").click(),!0}},t.prototype.isMultipleChoiceQuestions=function(){return-1!==String(this.root.querySelector('div[class="summary-sub-title"]').textContent).indexOf("多选")},t.prototype.hasOption=function(){return this.root.querySelector("label")},t.prototype.requireAnswer=function(){return this.root.querySelector("div.answer-options.ng-scope")},t.prototype.hasBranch=function(){return-1!==(0,s.replaceRestString)(this.root.querySelector("div.summary-sub-title").textContent).indexOf("完形填空")},t.prototype.isChecked=function(e){return null!==e.querySelector('[checked="checked"]')},t.prototype.getOrder=function(){var e=(0,s.replaceRestString)(this.root.querySelector("div.summary-sub-title").textContent),t=this.root.querySelector("div.answer-content");return-1!==e.indexOf("简答")&&((0,s.replaceRestString)(t.innerText).length>10||t.querySelector("img"))},t}(n(502).default);t.default=c},492:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getTitle=function(){},t.prototype.getOptions=function(e){return[]},t.prototype.getAnswer=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,o,i;return s(this,(function(s){switch(s.label){case 0:return e=this.root.querySelector('input[name="pqid['.concat(parseInt(this.root.id.split("_").pop())-1,']"]')).value,t=document.querySelector("#captchaId"),n=t.value,[4,fetch("https://kc.jxjypt.cn/paper/question/resolve/txt?uid=".concat(n,"&pqid=").concat(e,"&_=").concat(Date.now()))];case 1:return[4,s.sent().json()];case 2:return r=s.sent(),console.log("========================================="),console.log(r),o=r.data,i=o.rightAnswer,[2,o.plainText?i:"错"==i?["错误"]:"对"==i?["正确"]:i.trim().split("")]}}))}))},t.prototype.getQuestionScore=function(){},t.prototype.getUserScore=function(){},t.prototype.requireAnswer=function(){},t.prototype.getOptionsByElement=function(e,t){},t.prototype.selectOption=function(e){},t.prototype.hasOption=function(){},t.prototype.isMultipleChoiceQuestions=function(){},t.prototype.hasBranch=function(){},t.prototype.isChecked=function(e){},t.prototype.getOrder=function(){return!1},t}(n(502).default);t.default=c},904:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(262),s={post:function(e){return r(this,arguments,void 0,(function(e,t){return void 0===t&&(t=""),o(this,(function(n){switch(n.label){case 0:return[4,fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:t}).then((function(e){return e.ok?e:{error:e.status}})).catch((function(e){return e}))];case 1:return[2,n.sent()]}}))}))},get:function(e){return r(this,arguments,void 0,(function(e,t){return void 0===t&&(t=void 0),o(this,(function(n){switch(n.label){case 0:return[4,fetch((0,i.getReqUrl)(e,t),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e})).then((function(e){return e})).catch((function(e){return e}))];case 1:return[2,n.sent()]}}))}))}};t.default=s},262:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.logEl=void 0,t.setRuleInterval=c,t.mountButton=function(e,t,n,i,s,c,a){var u=this;a(n()),t*=1e3;var l=!1,f=!1;e.addEventListener("click",(function(){return r(u,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return l?[2]:(l=!0,n()?(i(0),[4,c()]):[3,2]);case 1:return r.sent(),e=setInterval((function(){f&&(clearInterval(e),a(n()),l=!1)}),1e3),[3,4];case 2:return f=!1,i(1),a(n()),setTimeout((function(){return l=!1}),t),[4,s()];case 3:r.sent(),i(0),a(n()),f=!0,r.label=4;case 4:return[2]}}))}))}))},t.modelData=function(e,t,n,r){e.value=r(),e.oninput=function(){t(e.value)&&n(e.value),e.value=r()}},t.waitDomReady=function(e,t,n,i,s){return r(this,void 0,void 0,(function(){var r,a;return o(this,(function(o){switch(o.label){case 0:r=!1,a=1,o.label=1;case 1:return a<=i&&!r?n()?(e.src=t.target,[4,u(1e3)]):[2]:[3,5];case 2:return o.sent(),[4,c(13,500,n,(function(){s("初始化".concat(t.name,"超时").concat(a>1?"，尝试第".concat(a,"次初始化"):"","。"))}),(function(){if("complete"===e.contentWindow.document.readyState)return r=!0,!0}))];case 3:o.sent(),o.label=4;case 4:return a++,[3,1];case 5:return[2,r]}}))}))},t.replaceSpecialString=function(e){return e.replace(/[^\u4e00-\u9fa5\x00-\x7F，。！？、……￥（）【】“”‘’《》：；·①②③④⑤⑥⑦⑧⑨∥⊥±∓ə∫∃∈∋∉∌∊∍×✓]/g,"").trim()},t.replaceRestString=function(e){return e.replace(/\n/g,"").split(" ").join("").trim()},t.replaceToHTML=function(e){return e.replace(/\n/g,"<br>").trim()},t.insertString=function(e,t,n,r){var o="",i=e.split(t);n=r?t+n:n+t;for(var s=0;s<i.length-1;s++)o+=i[s]+n;return o+i[i.length-1]},t.defineReactive=a,t.initObj=function(e,t){return r(this,void 0,void 0,(function(){function n(t){void 0!==u[t]&&typeof u[t]==typeof e[t]&&(e[t]=u[t])}function r(e){for(var o in e)n(o),e[o]instanceof Object&&Object.keys(e[o]).length>0&&c-- >0&&r(e[o]),a(e,o,e[o],(function(){s.default.set(t,i)}))}var i,c,u;return o(this,(function(n){switch(n.label){case 0:return i=e,c=1,[4,s.default.get(t)];case 1:return(u=n.sent())?(r(e),[2]):[2]}}))}))},t.copyObjProperties=function(e,t){for(var n in e)void 0!==t[n]&&(e[n]=t[n]);return e},t.sleep=u,t.simulateInputEvent=function(e){null==e||e.dispatchEvent(new Event("input",{bubbles:!0}))},t.shareLog=function(e,n,r){void 0===n&&(n=void 0),void 0===r&&(r=void 0);var o=document.createElement("span");o.classList.add(i.color.purple),o.textContent="-> ";var s=document.createElement("span");s.innerHTML+=e,n&&s.classList.add(n),r&&s.addEventListener("click",(function(){null==r||r.scrollIntoView({behavior:"smooth"})})),t.logEl.el.appendChild(o),t.logEl.el.appendChild(s),t.logEl.el.appendChild(document.createElement("br")),t.logEl.el.scrollTo({top:999999999999999,behavior:"smooth"})},t.clearAllChildNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.getReqUrl=function(e,t){void 0===t&&(t=void 0);var n=e;if(t&&t instanceof Object){var r=Object.keys(t);if(!r.length)return n;n+="?";for(var o=0,i=r;o<i.length;o++){var s=i[o];t[s]&&(n+=s+"="+t[s]+"&")}n=n.slice(0,-1)}return n};var i=n(761),s=n(424);function c(e,t,n,i,s){return r(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return[4,new Promise((function(r){e*=1e3;var o=0,c=setInterval((function(){return o+=t,n()?o>=e?(clearInterval(c),r(!1),void i()):void(s()&&(r(!0),clearInterval(c))):(clearInterval(c),void r(!1))}),t)}))];case 1:return r.sent(),[2]}}))}))}function a(e,t,n,r){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){e!==n&&(n=e,r())}})}function u(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){return setTimeout(t,e)}))];case 1:return t.sent(),[2]}}))}))}t.logEl={el:void 0}},358:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.viewConfig=t.fastKeys=t.storageID=void 0,t.storageID="learning-platform-solution-view",t.fastKeys={course:"q",exam:"w",data:"e",R:"r",examSubmit:"i",hiddeView:"`",openFastKeys:"f9"},t.viewConfig={hidden:!1,exportPageId:0,position:{top:"60%",left:"60%"}}},48:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.dragEleIni=function(e,t){var n=e.root;function r(){var t=parseInt(n.style.top.slice(0,-2)),r=parseInt(n.style.left.slice(0,-2)),o=window.innerHeight,s=window.innerWidth;t<15?n.style.top="5px":t>o-55&&(n.style.top="".concat(o-55,"px")),r<15?n.style.left="20px":r>s-30&&(n.style.left="".concat(s-30,"px")),i.viewConfig.position.top=n.style.top,i.viewConfig.position.left=n.style.left,e.storageFn()}window.addEventListener("resize",r),e.dragEle.addEventListener("mousedown",(function(e){s=!0;var t=n.getBoundingClientRect();o=t.left+window.scrollX-e.clientX,c=t.top+window.scrollY-e.clientY}),!1),t.addEventListener("mousemove",(function(e){s&&(n.style.left="".concat(e.clientX-window.scrollX+o,"px"),n.style.top="".concat(e.clientY-window.scrollY+c,"px"))}),!1),t.addEventListener("mouseup",(function(){s&&r(),s=!1}),!1);var o=0,c=0},t.hiddenEleIni=function(e){var t=e.hiddenEle,n=[e.pages,e.notice];t.addEventListener("click",(function(){i.viewConfig.hidden=!i.viewConfig.hidden;for(var r=0,o=n;r<o.length;r++)o[r].hidden=i.viewConfig.hidden;e.root.classList.toggle("main-hidden",i.viewConfig.hidden),e.root.classList.toggle("main-share",!i.viewConfig.hidden),t.innerText=i.viewConfig.hidden?"<":">",e.storageFn()}))},t.menuItemIni=function(e){var t=e.menu_panel,n=e.menu_info,r=[e.pages_panel,e.pages_info];function o(t,n){for(var o=0,s=e.menu.querySelectorAll(".item");o<s.length;o++)s[o].classList.toggle("item-select",!1);i.viewConfig.exportPageId=n,t.target.classList.toggle("item-select",!0),r[n].hidden=!1}t.addEventListener("click",(function(e){o(e,0)})),n.addEventListener("click",(function(e){o(e,1)}))},t.noticeIni=function(e){e.notice.querySelector(".item").innerHTML="\n        开启快捷键 ".concat(i.fastKeys.openFastKeys,"\n        快捷键列表：\n        刷课 ").concat(i.fastKeys.course,"\n        考试 ").concat(i.fastKeys.exam,"\n        扒题 ").concat(i.fastKeys.data,"\n        提交试卷 ").concat(i.fastKeys.examSubmit,"\n        窗口隐藏 ").concat(i.fastKeys.hiddeView,"\n        ")},t.loadR=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(e){return[2]}))}))};var i=n(358),s=!1},515:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(424),s=n(761),c=n(262),a=n(358),u=n(48),l=n(730),f=function(){function e(){this.supportViewArray=new Map,this.svController={reset:void 0,remove:void 0,add:void 0,removeAll:void 0};var e=document.createElement("div");document.querySelector("html").appendChild(e);var t=e.attachShadow({mode:"closed"}),n=document.createElement("style");n.textContent=l.styleText,t.appendChild(n),t.innerHTML+=l.HTMLText,this.dom=t,this.root=t.querySelector("div")}return e.prototype.ini=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.propertiesIni()];case 1:return e.sent(),(0,u.dragEleIni)(this,document),(0,u.hiddenEleIni)(this),(0,u.menuItemIni)(this),(0,u.noticeIni)(this),[4,this.initData()];case 2:return e.sent(),c.logEl.el=this.infoEle,[4,this.mountKeysFn()];case 3:return e.sent(),this.root.style.display="flex",[2]}}))}))},e.prototype.initData=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,(0,c.initObj)(a.viewConfig,a.storageID)];case 1:return e.sent(),this.root.style.top=a.viewConfig.position.top,this.root.style.left=a.viewConfig.position.left,a.viewConfig.hidden&&(a.viewConfig.hidden=!a.viewConfig.hidden,this.hiddenEle.click()),[2]}}))}))},e.prototype.changeBtnMessage=function(e,t){e.innerText=e.innerText.slice(0,e.innerText.lastIndexOf("：")+1)+t},e.prototype.propertiesIni=function(){return r(this,void 0,void 0,(function(){var e,t,n=this;return o(this,(function(r){return this.controller=this.dom.getElementById("controller").querySelector("div"),this.dragEle=this.dom.getElementById("drag"),this.hiddenEle=this.dom.getElementById("hidden"),this.menu=this.dom.querySelector("#menu"),this.menu_info=this.menu.querySelector(".info"),this.menu_panel=this.menu.querySelector(".panel"),this.notice=this.dom.querySelector("#notice"),this.pages=this.dom.querySelector("#pages"),this.pages_panel=this.pages.querySelector(".panel"),this.courseStartBtn=this.pages_panel.querySelector(".courseStart-button"),this.dataStartBtn=this.pages_panel.querySelector(".dataStart-button"),this.examStartBtn=this.pages_panel.querySelector(".examStart-button"),this.clearCacheBtn=this.dom.querySelector(".clearCacheBtn"),this.courseList=this.dom.querySelector(".courseListBtn"),this.examListBtn=this.dom.querySelector(".examListBtn"),this.courseList=this.dom.querySelector(".courseList"),this.examList=this.dom.querySelector(".examList"),this.questionUrl=this.pages_panel.querySelector(".questionUrl-button"),this.courseSpeedBean=this.pages_panel.querySelector(".courseSpeedBean-button"),this.courseSpeedPlus=this.pages_panel.querySelector(".courseSpeedPlus-button"),this.examSpeed=this.pages_panel.querySelector(".examSpeed-button"),this.reqEWT=this.pages_panel.querySelector(".reqEWT-button"),this.pages_info=this.pages.querySelector(".info"),this.infoEle=this.pages_info.querySelector(".textarea"),this.menuItems=[this.menu_panel,this.menu_info],this.pagesItem=[this.pages_panel,this.pages_info],this.iframeControllerEl=this.dom.querySelector(".iframeController"),this.iframeControllerEl.classList.toggle("iframeController"),e=this.iframeControllerEl.querySelector(".main"),t=this.iframeControllerEl.querySelector(".list"),this.svController.add=function(e){return t.appendChild(e)},this.svController.reset=function(e){var n=e.id.split("-")[1];if(n){var r=parseInt(n);0!==r?t.children[r-1].after(e):t.children[0].before(e)}},this.svController.remove=function(t){var r=e.firstElementChild;r&&n.svController.reset(r),e.appendChild(t)},this.svController.removeAll=function(){console.log(t.children),console.log(e.children);for(var r=0,o=t.children;r<o.length;r++){var i=o[r];n.clearSView(i.id),t.removeChild(i)}for(var s=0,c=e.children;s<c.length;s++)i=c[s],n.clearSView(i.id),e.removeChild(i)},[2]}))}))},e.prototype.videoIni=function(){return r(this,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){return e=this,(t=document.createElement("div")).style.width="100%",t.style.height="100%",t.style.position="absolute",document.querySelector("html").appendChild(t),(n=document.createElement("iframe")).src="https://player.bilibili.com/player.html?bvid=BV1hq4y1s7VH&page=1&danmaku=0",n.style.width="100%",n.style.height="100%",document.querySelector("html").appendChild(n),this.video=n,this.video.muted=!1,this.video.addEventListener("ended",(function(){e.video.load(),e.video.play()})),[2]}))}))},e.prototype.mountKeysFn=function(){return r(this,arguments,void 0,(function(e){function t(){s.config.keysFnActivity=!s.config.keysFnActivity,n.classList.toggle("open",s.config.keysFnActivity),n.classList.toggle("close",!s.config.keysFnActivity)}var n,r,i=this;return void 0===e&&(e=void 0),o(this,(function(o){return n=this.controller,r=e||document,this.root.classList.toggle("script-R",s.config.R),this.root.classList.toggle("script-normal",!s.config.R),s.config.keysFnActivity&&(s.config.keysFnActivity=!s.config.keysFnActivity,t()),r.addEventListener("keyup",(function(e){var n=e.key.toLowerCase();if(n===a.fastKeys.openFastKeys&&t(),s.config.keysFnActivity)if(n===a.fastKeys.course)i.courseStartBtn.click();else if(n===a.fastKeys.exam)i.examStartBtn.click();else if(n===a.fastKeys.data)i.dataStartBtn.click();else if(n===a.fastKeys.R)s.config.R=!s.config.R,s.config.R?(0,u.loadR)(i):(document.body.style.display="",i.svController.removeAll()),i.root.classList.toggle("script-R",s.config.R),i.root.classList.toggle("script-normal",!s.config.R),i.iframeControllerEl.classList.toggle("iframeController",s.config.R);else if(n===a.fastKeys.examSubmit){for(var r,o=i.supportViewArray.keys();r=o.next().value;)if(String(r).startsWith("exam-view")){var c=i.getSDom(r).querySelector("#submit-exam-confirmation-popup"),l=null==c?void 0:c.querySelector('[class="button button-green medium"]');null==l||l.click()}var f=document.querySelector("#submit-exam-confirmation-popup"),d=null==f?void 0:f.querySelector('[class="button button-green medium"]');null==d||d.click()}else n===a.fastKeys.hiddeView&&i.hiddenEle.click()})),[2]}))}))},e.prototype.getSView=function(e){return r(this,arguments,void 0,(function(e,t){var n,r,i,s,c=this;return void 0===t&&(t=!0),o(this,(function(o){if(!(n=this.supportViewArray.get(e))){for(r=0,i=this.dom.querySelectorAll("iframe");r<i.length;r++)if(""===(s=i[r]).name){n=s;break}n||(n=document.createElement("iframe"),this.dom.appendChild(n)),n.name=e,n.addEventListener("load",(function(){(0,u.dragEleIni)(c,c.getSDom(e)),c.mountKeysFn(c.getSDom(e))})),this.supportViewArray.set(e,n)}return n.classList.toggle("hidden",t),[2,n]}))}))},e.prototype.clearSView=function(e){var t=this.supportViewArray.get(e);t&&(t.name="",t.classList.toggle("hidden",!0),this.supportViewArray.delete(e))},e.prototype.getSWin=function(e){var t=this.supportViewArray.get(e);return t?t.contentWindow.window:void 0},e.prototype.getSDom=function(e){var t=this.supportViewArray.get(e);return t?t.contentWindow.document:void 0},e.prototype.storageFn=function(){i.default.set(a.storageID,a.viewConfig)},e}();t.default=f},730:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.styleText=t.HTMLText=void 0,t.HTMLText='\n<div id="view-main" class="main-share">\n    <div id="controller" style=\'width: 0px;\'>\n        <div class="item-center close">\n            <div\n                id="drag"\n                class="item item-center button"\n                style=\'color: rgb(0,0,0)\'\n            >≡</div>\n            <div\n                id="hidden"\n                class="item item-center button"\n                style=\'color: rgb(255,255,255)\'\n            >></div>\n        </div>\n    </div>\n    <div id="menu" hidden>\n        <ul>\n            <li class="panel item button item-center">面板</li>\n            <li class="info item button item-center">日志</li>\n        </ul>\n    </div>\n    <div id="notice">\n        <marquee class="item"></marquee>\n    </div>\n    <div id="pages">\n        <div class="panel item">\n            <div style="display: flex;justify-content: space-between;">\n                <div class="courseStart-button item-button button">刷课：开</div>\n                <div class="examStart-button item-button button">考试：开</div>\n                <div class="dataStart-button item-button button">扒题：开</div>\n            </div>\n            <div>\n                <div class="courseListBtn item-button button">课程列表</div>\n                <ul class="courseList list button"></ul>\n            </div>\n            <div>\n                <div class="examListBtn item-button button">考试列表</div>\n                <ul class="examList list button"></ul>\n            </div>\n            <div>\n                <div class="clearCacheBtn item-button button">清理缓存</div>\n            </div>\n            <div>\n                <div class="questionUrl-button item-input item-button button">\n                    答题接口：\n                    <input/>\n                </div>\n            </div>\n            <div>\n                <div class="courseSpeedBean-button item-input item-button button">\n                    刷课基础速度（毫秒）：\n                    <input type="number"/>\n                </div>\n            </div>\n            <div>\n                <div class="courseSpeedPlus-button item-input item-button button">\n                    刷课增加速度（毫秒）：\n                    <input type="number"/>\n                </div>\n            </div>\n            <div>\n                <div class="examSpeed-button item-input item-button button">\n                    答题速度（毫秒）：\n                    <input type="number"/>\n                </div>\n            </div>\n            <div>\n                <div class="reqEWT-button item-input item-button button">\n                    请求异常等待时长（秒）：\n                    <input type="number"/>\n                </div>\n            </div>\n        </div>\n        <div class="info item">\n            <div class="textarea" readOnly></div>\n        </div>\n    </div>\n</div>\n<div class="iframeController">\n    <div class="main">\n\n    </div>\n    <div class="list">\n\n    </div>\n</div>\n\n',t.styleText="\n.item-center{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.button {\n    font-weight: 900;\n    user-select: none;\n}\n.controller, .menu{\n    font-size: 17px;\n}\n.script-R {\n    background: linear-gradient(rgb(255, 255, 255), rgb(255, 0, 0));\n}\n.script-normal {\n    background: #ffffff;\n    box-shadow: 0 0 25px #000000;\n}\n#view-main {\n    font-family: system-ui;\n    font-size: 14px;\n    display: none;\n    z-index: 1000000000;\n    position: fixed;\n    top: 30%;\n    left: 70%;\n    border-radius: 7px;\n    .open {\n        background: linear-gradient(to right, #ffffff, #ffffff, #ffffff, rgb(255, 0, 0), rgb(255, 0, 0), rgb(255, 0, 0));\n    }\n    .close {\n        background: linear-gradient(to right, #ffffff, #ffffff, #ffffff, #000000, #000000, #000000);\n    }\n    #controller {\n        >div {\n            z-index: 1;\n            height: 31px;\n            width: 31px;\n            border-radius: 100%;\n            box-shadow: 0 0 7px #000000;\n            position: relative;\n            left:-21px;\n            top: 16px;\n        }\n        .item {\n            background-color: rgba(0, 0, 0, 0);\n            border: none;\n            margin: 0;\n            padding: 0;\n            width: 21px;\n        }\n    }\n    #menu {\n        width: 0;\n        padding: 0;\n        position: relative;\n        left: -61px;\n        border: none;\n        border-radius: 7px;\n        background: rgba(0,0,0,0);\n        >ul{\n            height: 100%;\n            display: flex;\n            margin: 0;\n            padding: 0;\n        }\n        .item {\n            text-align: center;\n            margin: 0 1px;\n            padding: 3px;\n            width: auto;\n            border-radius: 7px;\n            color: #ffffff;\n            background: linear-gradient(to top, #ffffff, #ffffff, #000000, #000000, #ffffff, #ffffff);\n        }\n        .item-select {\n            color: #000000;\n            background: linear-gradient(to top, #000000, #000000, #ffffff, #ffffff, #000000, #000000);\n        }\n    }\n    #notice {\n        width: 0;\n        height: 0;\n        .item {\n            color: #ffffff;\n            position: relative;\n            top: -30px;\n            height: 20px;\n            width: 600px;\n            background: linear-gradient(to left, #00000000, #000000, #000000, #000000, #000000, #00000000);\n        }\n    }\n    #pages {\n        width: 100%;\n        background-color: rgba(0, 0, 0, 0);\n        .item {\n            width: 300px;\n        }\n        .panel {\n            overflow-y: auto;\n            .item-button {\n                border-radius: 7px;\n                width: auto;\n                text-align: left;\n                background: #000000;\n                margin: 3px 0 0 5px;\n                padding: 5px 10px;\n                color: #ffffff;\n                border: none;\n            }\n            .item-input {\n                display: flex;\n                justify-content: space-between;\n                input {\n                    text-align: right;\n                    color: white;\n                    border: none;\n                    background: black;\n                }\n            }\n            .list {\n                margin: 0 0 0 10px;\n                padding: 0;\n                border: 0;\n                li {\n                    border-top: solid 2px #ff0000;\n                    padding: 5px 10px;\n                }\n            }\n        }\n        .info {\n            height: 100%;\n            .textarea {\n                // width: -webkit-fill-available;\n                // height: -webkit-fill-available;\n                overflow-y: auto;\n                width: 100%;\n                height: 100%;\n                color: rgb(255, 255, 255);\n                background: rgb(0, 0, 0);\n                resize: none;\n            }\n        }\n    }\n}\n.red{\n    color: rgb(255 0 0);\n}\n.blue{\n    color: rgb(0 140 255);\n}\n.green{\n    color: rgb(0 255 0);\n}\n.orange {\n    color: rgb(255 155 0);\n}\n.purple {\n    color: rgb(180 0 255)\n}\n.yellow {\n    color: #ffff62;\n}\n\n\n.global-select {\n    background: black;\n    color: white;\n}\n.global-selected {\n    background: rgb(171, 229, 255);\n    color: black;\n}\n.global-share {\n    width: auto;\n    height: auto;\n    transition: all 0.3s;\n}\n.global-hidden {\n    transform: translateX(10px);\n    opacity: 0;\n    width: 0;\n    height: 0;\n    transition: all 0.3s;\n    * {\n        display: none;\n    }\n}\n.main-hidden {\n    padding: 0;\n    width: 0;\n    height: 0;\n    transition: width 0.4s, height 0.2s;\n    transition-timing-function: ease-out;\n    #pages {\n        display: none;\n    }\n}\n.main-share {\n    padding: 7px;\n    width: 600px;\n    height: 300px;\n    transition: width 0.2s, height 0.4s;\n    transition-timing-function: ease-out;\n    #pages {\n        display: flex;\n        justify-content: space-between;\n    }\n}\niframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    z-index: 5000;\n}\niframe.hidden {\n    display: none;\n}\n.clicked {\n    background: #2e6a6f;\n    color: white;\n}\n.iframeController {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    position: absolute;\n    left: 0;\n    top: 0;\n    .title {\n        >div {\n            width: max-content;\n            color: white;\n            background: black;\n        }\n        height: 0;\n        width: 0;\n        font-weight: bold;\n        position: relative;\n        z-index: 8000;\n    }\n    .main {\n        width: 60%;\n        height: 100%;\n        >div{\n            height: 100%;\n            width: 100%;\n        }\n        iframe {\n            height: 100%;\n            width: 100%;\n        }\n    }\n    .list {\n        overflow-y: auto;\n        width: 40%;\n        height: 100%;\n        >div {\n            display: flex;\n            height: 300px;\n        }\n        .btn {\n            background-color: #5c5c5c54;\n            color: white;\n            width: 5%;\n            height: 100%;\n        }\n        .btn:hover {\n            background-color: #25252554;\n        }\n        iframe {\n            height: 100%;\n            width: 95%;\n        }\n    }\n}\n\n"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(0,n(336).A)()})();